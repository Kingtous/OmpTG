# OmpTG-Manual
>## Software overview 
>* **OpenMP**:Real-time systems are shifting them from single-core to multi-core processors. Software must be parallelized to fully utilize the computation power of multi-core architectures.OpenMP is a promising framework to develop  parallel real-time software on multi-cores. OpenMP programs keep certain similarity to real-time task graph  models,and this motivates much recent work done on real-time scheduling of OpenMP tasks.**However,these studies conduct evaluations with randomly generated task graphs,which cannot well capture the structure  features of realistic OpenMP programs.** To fill the gap between theoretical real-time scheduling research and the OpenMP software reality,we develop a ompTG tool for **transforming OpenMP programs into parallel  task graphs.**   
>* **OmpTG**:ompTG prepares a way to exhibit OpenMP such that the researchers in real-time community can  easily understand:A OpenMP system consists of a set of tasks.There are interdependencies among tasks, and each task has an intra structure of the control-flow graph.Besides the topology of OpenMP tasks,we also provide a safe WCET for each vertex of OpenMP task graphs by using static WCET analysis techniques. Moreover,we derive the flow facts,e.g,infeasible path and loop bounds  for the taskgraph,which is necessary information for real-time scheduling and analysis.    
>* **This Documentation is for the `OmpTG Online`, where functions are divided into six parts, so that users can view the intermediate generated code at any time, which is beneficial to analyze the structure.**       
>* **OmpTG WebLinks**:[*click here*](http://omptg.kingtous.cn/)
*** 
>## Features
### Step1.Convert OpeMP C Code To OMPI Trimmed Code  
  * In this step, we need you to provide the source code of the C language that needs to be analyzed. We will use ***OMPI*** to convert it to the OMPI Trimmed mode file.  
  1.Click on `Step1` to enter the Step1 page.  
  ![点击Step1](/graph/step1.png)  
  2.Click `choose` to upload a zip file containing the c language file source and its dependencies you analyzed, then click `start`.   
  ![Step1上传](/graph/1_1.gif) 
  3.Select your source entry, click `select`, and wait for the ‘XXX_ompi_trim.c’ file to be generated.    
  ![Step1选择入口](/graph/1_2.gif)
  4.Click `download` to download the file.   
  > PS: If Server has no response(perhaps it costs plenty of time), you could back to menu to check your files.   
### Step2.Convert OMPI Trimmed Code into ALF Code   
  * In this step, we need you to provide the c language file processed by OMPI (the result generated in Step1), and we convert it into ALF file and MAP file using ***ALFBackend*** tool.     
  1.Click on `Step2` to enter the Step2 page.   
  ![点击Step2](/graph/step2.png)   
  2.Click `choose` to upload a c language file processed by OMPI (the result generated in Step1) and click `start`.   
  ![点击Step2](/graph/2_1.gif)   
  3.After waiting for the web page to respond, download the ALF/MAP file you need.    
  ![点击Step2](/graph/2_2.png)    
  > PS: If Server has no response(perhaps it costs plenty of time), you could back to menu to check your files.   
### Step3.Generate WCET By ALF Code    
  * In this step, we need you to provide the ALF file corresponding to the c language program that needs to be analyzed. We use the ***OmpTG*** tool to generate the WCET file corresponding to the ALF file (the execution schedule of each node in the ALF file).     
  1.Click on `Step3` to enter the Step3 page.  
  ![点击Step3](/graph/step3.png)  
  2.Click `choose` to upload an ALF file (the result generated in Step2) and click `Generate WCET`.  
  ![点击Step3](/graph/3_1.gif)   
  3.After waiting for the web page to respond (may wait a long time), click `download` to download the generated WCET document.    
  > PS: If Server has no response(perhaps it costs plenty of time), you could back to menu to check your files.    
### Step4.Generate Relation File By ALF Code        
  * In this step, we need you to provide the ALF file corresponding to the c language program that needs to be analyzed. We use the ***OmpTG*** tool to generate the Relation file corresponding to the ALF file (the call relationship table for each function in the ALF file).    
    1.Click on `Step4` to enter the Step4 page.    
    ![点击Step4](/graph/step4.png)     
    2.Click `choose`, upload an ALF file (the result generated in Step2), and click `Generate Relation Files`.      
    ![点击Step4](/graph/4_1.gif)    
    3.After waiting for the web page to respond, click `Back to Menu/Check Files` to return to the main page.     
      Click `Check My Files` to view the most recently generated file. Click on the *relation/* folder, which is the relation file for each function generated by the previous ALF.       
    ![点击Step4](/graph/4_2.png)    
    ![点击Step4](/graph/4_3.gif)       
    > PS: If Server has no response(perhaps it costs plenty of time), you could back to menu to check your files.      
### Step5.Generate PCFG By ALF Code   
  * In this step, we need you to provide a zip file, which includes the following three files:    
    - a dot file generated by SWEET Tool.    
    - a WCET file generated by OmpTG.       
    - a relation(.txt) file generated by OmpTG.     
   We use three files to generate a PCFG graph.   
  1. Click on `Step5` to enter the Step5 page.    
  ![点击Step5](/graph/step5.png)    
  2.Click `Select` to upload a zip file (this needs to contain three files:a dot file,a WCET file,a relation(.txt) file), then click `start`，     
  After waiting for the page to jump, if you confirm that the identified file is correct, then click `confirm`.     
  ![点击Step5](/graph/5_1.gif)   
  3.After waiting for the web page to respond, click `download` to download the generated PCFG file (.pdf).
  ![点击Step5](/graph/5_2.png)   
  > PS: If Server has no response(perhaps it costs plenty of time), you could back to menu to check your files.    
### Step6.Generate EFG By ALF Code 
  * In this step, we need you to provide a zip file, which includes the following three files:   
      - a dot file generated by SWEET Tool.    
      - a WCET file generated by OmpTG.       
      - a relation(.txt) file generated by OmpTG.     
     We use three files to generate a EFG graph.   
  1.Click on `Step6` to enter the Step6 page.    
  ![点击Step6](/graph/step6.png) 
  2. Click `Select` to upload a zip file (this needs to contain three files:a dot file,a WCET file,a relation(.txt) file), then click `start`，        
  After waiting for the page to jump, if you confirm that the identified file is correct, then click `confirm`.      
  ![点击Step6](/graph/6_1.gif)     
  3.After waiting for the web page to respond, click `Back to Menu/Check Files` to return to the main page.       
  Click `Check My Files` to see the latest generated files. Click on the folder with the same name as the uploaded file and find the *EFG/* folder, which stores all the generated EFG files.           
  ![点击Step6](/graph/6_2.png)    
  ![点击Step6](/graph/6_3.gif)   
  > PS: If Server has no response(perhaps it costs plenty of time), you could back to menu to check your files.    
*** 

  



